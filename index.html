<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è¥å…»è¿½è¸ª</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.3s ease;
        }

        .nav-tab.active {
            background: white;
            color: #4CAF50;
            border-bottom: 2px solid #4CAF50;
        }

        .tab-content {
            display: none;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .food-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #4CAF50;
        }

        .food-item h4 {
            color: #333;
            margin-bottom: 5px;
        }

        .food-item p {
            color: #666;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-card h3 {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .stat-card p {
            opacity: 0.9;
            font-size: 14px;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            transition: width 0.5s ease;
        }

        .recommendation {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid #FF9800;
        }

        .recommendation h4 {
            color: #E65100;
            margin-bottom: 10px;
        }

        .recommendation p {
            color: #BF360C;
            line-height: 1.5;
        }

        .delete-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            float: right;
        }

        .profile-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¥— æ¯æ—¥è¥å…»è¿½è¸ª</h1>
            <p>å¥åº·ç”Ÿæ´»ï¼Œä»è®°å½•å¼€å§‹</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('profile')">ä¸ªäººèµ„æ–™</button>
            <button class="nav-tab" onclick="showTab('food')">è®°å½•é£Ÿç‰©</button>
            <button class="nav-tab" onclick="showTab('dashboard')">è¥å…»æŠ¥å‘Š</button>
        </div>

        <!-- ä¸ªäººèµ„æ–™é¡µé¢ -->
        <div id="profile" class="tab-content active">
            <div class="form-group">
                <label>å§“å</label>
                <input type="text" id="userName" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">
            </div>
            
            <div class="two-column">
                <div class="form-group">
                    <label>å¹´é¾„</label>
                    <input type="number" id="userAge" placeholder="å²" min="1" max="120">
                </div>
                <div class="form-group">
                    <label>æ€§åˆ«</label>
                    <select id="userGender">
                        <option value="">é€‰æ‹©æ€§åˆ«</option>
                        <option value="male">ç”·</option>
                        <option value="female">å¥³</option>
                    </select>
                </div>
            </div>

            <div class="two-column">
                <div class="form-group">
                    <label>èº«é«˜ (cm)</label>
                    <input type="number" id="userHeight" placeholder="å˜ç±³" min="100" max="250">
                </div>
                <div class="form-group">
                    <label>ä½“é‡ (kg)</label>
                    <input type="number" id="userWeight" placeholder="å…¬æ–¤" min="30" max="300">
                </div>
            </div>

            <div class="form-group">
                <label>æ´»åŠ¨æ°´å¹³</label>
                <select id="activityLevel">
                    <option value="">é€‰æ‹©æ´»åŠ¨æ°´å¹³</option>
                    <option value="sedentary">ä¹…å (åŠå…¬å®¤å·¥ä½œ)</option>
                    <option value="light">è½»åº¦æ´»åŠ¨ (æ¯å‘¨1-3æ¬¡è¿åŠ¨)</option>
                    <option value="moderate">ä¸­åº¦æ´»åŠ¨ (æ¯å‘¨3-5æ¬¡è¿åŠ¨)</option>
                    <option value="active">é«˜åº¦æ´»åŠ¨ (æ¯å‘¨6-7æ¬¡è¿åŠ¨)</option>
                    <option value="very_active">æé«˜æ´»åŠ¨ (ä½“åŠ›åŠ³åŠ¨/æ¯æ—¥è¿åŠ¨)</option>
                </select>
            </div>

            <div class="form-group">
                <label>å¥åº·ç›®æ ‡</label>
                <select id="healthGoal">
                    <option value="">é€‰æ‹©ç›®æ ‡</option>
                    <option value="lose">å‡é‡</option>
                    <option value="maintain">ä¿æŒä½“é‡</option>
                    <option value="gain">å¢é‡</option>
                    <option value="muscle">å¢è‚Œ</option>
                </select>
            </div>

            <button class="btn" onclick="saveProfile()">ä¿å­˜ä¸ªäººèµ„æ–™</button>

            <div id="profileDisplay" class="profile-info" style="display: none;">
                <h4>ä¸ªäººä¿¡æ¯æ‘˜è¦</h4>
                <div id="profileSummary"></div>
            </div>
        </div>

        <!-- é£Ÿç‰©è®°å½•é¡µé¢ -->
        <div id="food" class="tab-content">
            <div class="form-group">
                <label>é£Ÿç‰©åç§°</label>
                <input type="text" id="foodName" placeholder="ä¾‹å¦‚ï¼šè‹¹æœã€ç±³é¥­ã€é¸¡èƒ¸è‚‰">
            </div>

            <div class="two-column">
                <div class="form-group">
                    <label>é‡é‡ (å…‹)</label>
                    <input type="number" id="foodWeight" placeholder="å…‹" min="1">
                </div>
                <div class="form-group">
                    <label>é¤æ¬¡</label>
                    <select id="mealType">
                        <option value="breakfast">æ—©é¤</option>
                        <option value="lunch">åˆé¤</option>
                        <option value="dinner">æ™šé¤</option>
                        <option value="snack">é›¶é£Ÿ</option>
                    </select>
                </div>
            </div>

            <button class="btn" onclick="addFood()">æ·»åŠ é£Ÿç‰©</button>

            <div id="todayFoods">
                <h3>ä»Šæ—¥æ‘„å…¥é£Ÿç‰©</h3>
                <div id="foodList"></div>
            </div>
        </div>

        <!-- è¥å…»æŠ¥å‘Šé¡µé¢ -->
        <div id="dashboard" class="tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="totalCalories">0</h3>
                    <p>æ€»çƒ­é‡ (åƒå¡)</p>
                </div>
                <div class="stat-card">
                    <h3 id="targetCalories">0</h3>
                    <p>ç›®æ ‡çƒ­é‡</p>
                </div>
            </div>

            <div class="form-group">
                <label>çƒ­é‡æ‘„å…¥è¿›åº¦</label>
                <div class="progress-bar">
                    <div class="progress-fill" id="calorieProgress" style="width: 0%"></div>
                </div>
                <p id="progressText">0% å®Œæˆ</p>
            </div>

            <div id="nutritionRecommendations">
                <h3>ğŸ’¡ ä¸ªæ€§åŒ–è¥å…»å»ºè®®</h3>
                <div id="recommendationsList"></div>
            </div>

            <button class="btn" onclick="clearTodayData()">æ¸…ç©ºä»Šæ—¥æ•°æ®</button>
        </div>
    </div>

    <script>
        // æ•°æ®å­˜å‚¨
        let userData = {};
        let todayFoods = [];
        let currentDate = new Date().toDateString();

        // é£Ÿç‰©çƒ­é‡æ•°æ®åº“ (æ¯100å…‹)
        const foodDatabase = {
            'è‹¹æœ': 52, 'é¦™è•‰': 89, 'æ©˜å­': 47, 'è‘¡è„': 62, 'è‰è“': 32,
            'ç±³é¥­': 130, 'é¢æ¡': 138, 'é¢åŒ…': 265, 'é¦’å¤´': 221, 'ç²¥': 46,
            'é¸¡èƒ¸è‚‰': 165, 'çŒªè‚‰': 242, 'ç‰›è‚‰': 250, 'é±¼è‚‰': 206, 'è™¾': 85,
            'é¸¡è›‹': 155, 'ç‰›å¥¶': 54, 'é…¸å¥¶': 99, 'è±†è…': 76, 'è±†æµ†': 14,
            'è¥¿çº¢æŸ¿': 18, 'é»„ç“œ': 12, 'åœŸè±†': 76, 'èƒ¡èåœ': 25, 'ç™½èœ': 17,
            'èŠ±ç”Ÿ': 567, 'æ ¸æ¡ƒ': 654, 'æä»': 579, 'ç“œå­': 615, 'å¼€å¿ƒæœ': 560,
            'å·§å…‹åŠ›': 546, 'è›‹ç³•': 347, 'é¥¼å¹²': 433, 'è–¯ç‰‡': 547, 'å¯ä¹': 43
        };

        // é¡µé¢åˆå§‹åŒ–
        window.onload = function() {
            loadData();
            updateDashboard();
        };

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'dashboard') {
                updateDashboard();
            }
        }

        // ä¿å­˜ä¸ªäººèµ„æ–™
        function saveProfile() {
            const name = document.getElementById('userName').value;
            const age = parseInt(document.getElementById('userAge').value);
            const gender = document.getElementById('userGender').value;
            const height = parseInt(document.getElementById('userHeight').value);
            const weight = parseInt(document.getElementById('userWeight').value);
            const activityLevel = document.getElementById('activityLevel').value;
            const healthGoal = document.getElementById('healthGoal').value;

            if (!name || !age || !gender || !height || !weight || !activityLevel || !healthGoal) {
                alert('è¯·å¡«å†™å®Œæ•´çš„ä¸ªäººä¿¡æ¯ï¼');
                return;
            }

            userData = {
                name, age, gender, height, weight, activityLevel, healthGoal,
                bmr: calculateBMR(gender, weight, height, age),
                tdee: 0
            };

            userData.tdee = calculateTDEE(userData.bmr, activityLevel);
            userData.targetCalories = adjustCaloriesForGoal(userData.tdee, healthGoal);

            saveData();
            displayProfileSummary();
            
            const alert = document.createElement('div');
            alert.className = 'alert';
            alert.textContent = 'ä¸ªäººèµ„æ–™ä¿å­˜æˆåŠŸï¼';
            document.getElementById('profile').insertBefore(alert, document.getElementById('profile').firstChild);
            setTimeout(() => alert.remove(), 3000);
        }

        // è®¡ç®—åŸºç¡€ä»£è°¢ç‡ (BMR)
        function calculateBMR(gender, weight, height, age) {
            if (gender === 'male') {
                return 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);
            } else {
                return 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
            }
        }

        // è®¡ç®—æ€»æ—¥æ¶ˆè€— (TDEE)
        function calculateTDEE(bmr, activityLevel) {
            const multipliers = {
                'sedentary': 1.2,
                'light': 1.375,
                'moderate': 1.55,
                'active': 1.725,
                'very_active': 1.9
            };
            return bmr * multipliers[activityLevel];
        }

        // æ ¹æ®å¥åº·ç›®æ ‡è°ƒæ•´çƒ­é‡
        function adjustCaloriesForGoal(tdee, goal) {
            switch(goal) {
                case 'lose': return tdee - 500; // å‡é‡
                case 'maintain': return tdee; // ä¿æŒ
                case 'gain': return tdee + 300; // å¢é‡
                case 'muscle': return tdee + 200; // å¢è‚Œ
                default: return tdee;
            }
        }

        // æ˜¾ç¤ºä¸ªäººèµ„æ–™æ‘˜è¦
        function displayProfileSummary() {
            const bmi = (userData.weight / ((userData.height / 100) ** 2)).toFixed(1);
            let bmiStatus = '';
            if (bmi < 18.5) bmiStatus = 'åç˜¦';
            else if (bmi < 24) bmiStatus = 'æ­£å¸¸';
            else if (bmi < 28) bmiStatus = 'åèƒ–';
            else bmiStatus = 'è‚¥èƒ–';

            document.getElementById('profileSummary').innerHTML = `
                <p><strong>BMI:</strong> ${bmi} (${bmiStatus})</p>
                <p><strong>åŸºç¡€ä»£è°¢:</strong> ${Math.round(userData.bmr)} åƒå¡/å¤©</p>
                <p><strong>ç›®æ ‡çƒ­é‡:</strong> ${Math.round(userData.targetCalories)} åƒå¡/å¤©</p>
                <p><strong>å¥åº·ç›®æ ‡:</strong> ${getGoalText(userData.healthGoal)}</p>
            `;
            document.getElementById('profileDisplay').style.display = 'block';
        }

        function getGoalText(goal) {
            const goals = {
                'lose': 'å‡é‡',
                'maintain': 'ä¿æŒä½“é‡',
                'gain': 'å¢é‡',
                'muscle': 'å¢è‚Œ'
            };
            return goals[goal] || goal;
        }

        // æ·»åŠ é£Ÿç‰©
        function addFood() {
            const name = document.getElementById('foodName').value.trim();
            const weight = parseInt(document.getElementById('foodWeight').value);
            const mealType = document.getElementById('mealType').value;

            if (!name || !weight) {
                alert('è«‹å¡«å†™é£Ÿç‰©åç§°å’Œé‡é‡ï¼');
                return;
            }

            // æŸ¥æ‰¾é£Ÿç‰©çƒ­é‡
            let calories = 0;
            for (let food in foodDatabase) {
                if (name.includes(food) || food.includes(name)) {
                    calories = Math.round((foodDatabase[food] * weight) / 100);
                    break;
                }
            }

            if (calories === 0) {
                calories = Math.round(weight * 2); // é»˜è®¤ä¼°ç®—
            }

            const foodItem = {
                id: Date.now(),
                name,
                weight,
                calories,
                mealType,
                time: new Date().toLocaleTimeString()
            };

            todayFoods.push(foodItem);
            saveData();
            displayFoodList();
            updateDashboard();

            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('foodName').value = '';
            document.getElementById('foodWeight').value = '';
        }

        // æ˜¾ç¤ºé£Ÿç‰©åˆ—è¡¨
        function displayFoodList() {
            const foodList = document.getElementById('foodList');
            if (todayFoods.length === 0) {
                foodList.innerHTML = '<p style="text-align: center; color: #666;">ä»Šæ—¥è¿˜æ²¡æœ‰è®°å½•é£Ÿç‰©</p>';
                return;
            }

            foodList.innerHTML = todayFoods.map(food => `
                <div class="food-item">
                    <button class="delete-btn" onclick="deleteFood(${food.id})">åˆ é™¤</button>
                    <h4>${food.name}</h4>
                    <p>${food.weight}å…‹ | ${food.calories}åƒå¡ | ${getMealTypeText(food.mealType)} | ${food.time}</p>
                </div>
            `).join('');
        }

        function getMealTypeText(type) {
            const types = {
                'breakfast': 'æ—©é¤',
                'lunch': 'åˆé¤',
                'dinner': 'æ™šé¤',
                'snack': 'é›¶é£Ÿ'
            };
            return types[type] || type;
        }

        // åˆ é™¤é£Ÿç‰©
        function deleteFood(id) {
            todayFoods = todayFoods.filter(food => food.id !== id);
            saveData();
            displayFoodList();
            updateDashboard();
        }

        // æ›´æ–°è¥å…»æŠ¥å‘Š
        function updateDashboard() {
            const totalCalories = todayFoods.reduce((sum, food) => sum + food.calories, 0);
            const targetCalories = userData.targetCalories || 2000;

            document.getElementById('totalCalories').textContent = totalCalories;
            document.getElementById('targetCalories').textContent = Math.round(targetCalories);

            const progress = Math.min((totalCalories / targetCalories) * 100, 100);
            document.getElementById('calorieProgress').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '% å®Œæˆ';

            generateRecommendations(totalCalories, targetCalories);
        }

        // ç”Ÿæˆè¥å…»å»ºè®®
        function generateRecommendations(totalCalories, targetCalories) {
            const recommendations = [];
            const calorieDeficit = targetCalories - totalCalories;

            if (calorieDeficit > 500) {
                recommendations.push({
                    title: 'çƒ­é‡æ‘„å…¥ä¸è¶³',
                    content: `ä»Šæ—¥è¿˜éœ€è¦æ‘„å…¥çº¦ ${Math.round(calorieDeficit)} åƒå¡ã€‚å»ºè®®å¢åŠ ä¼˜è´¨è›‹ç™½è´¨å’Œå¤åˆç¢³æ°´åŒ–åˆç‰©çš„æ‘„å…¥ã€‚`
                });
            } else if (calorieDeficit < -200) {
                recommendations.push({
                    title: 'çƒ­é‡æ‘„å…¥è¿‡é‡',
                    content: `ä»Šæ—¥çƒ­é‡æ‘„å…¥è¶…å‡ºç›®æ ‡ ${Math.round(-calorieDeficit)} åƒå¡ã€‚å»ºè®®å¢åŠ è¿åŠ¨æˆ–è°ƒæ•´æ™šé¤ä»½é‡ã€‚`
                });
            } else {
                recommendations.push({
                    title: 'çƒ­é‡æ‘„å…¥è‰¯å¥½',
                    content: 'ä»Šæ—¥çƒ­é‡æ‘„å…¥åŸºæœ¬ç¬¦åˆç›®æ ‡ï¼Œç»§ç»­ä¿æŒå‡è¡¡é¥®é£Ÿã€‚'
                });
            }

            // æ ¹æ®ç”¨æˆ·ç›®æ ‡æ·»åŠ å»ºè®®
            if (userData.healthGoal) {
                switch(userData.healthGoal) {
                    case 'lose':
                        recommendations.push({
                            title: 'å‡é‡å»ºè®®',
                            content: 'å»ºè®®å¤šæ‘„å…¥è”¬èœã€ç˜¦è‚‰è›‹ç™½ï¼Œå‡å°‘ç²¾åˆ¶ç¢³æ°´åŒ–åˆç‰©ã€‚ä¿æŒé€‚é‡è¿åŠ¨ï¼Œæ¯å‘¨å‡é‡0.5-1å…¬æ–¤ä¸ºå®œã€‚'
                        });
                        break;
                    case 'gain':
                        recommendations.push({
                            title: 'å¢é‡å»ºè®®',
                            content: 'å¢åŠ å¥åº·è„‚è‚ªå’Œè›‹ç™½è´¨æ‘„å…¥ï¼Œå¦‚åšæœã€ç‰›æ²¹æœã€ç˜¦è‚‰ç­‰ã€‚å°‘é£Ÿå¤šé¤ï¼Œé…åˆåŠ›é‡è®­ç»ƒæ•ˆæœæ›´ä½³ã€‚'
                        });
                        break;
                    case 'muscle':
                        recommendations.push({
                            title: 'å¢è‚Œå»ºè®®',
                            content: 'ç¡®ä¿æ¯æ—¥è›‹ç™½è´¨æ‘„å…¥é‡è¾¾åˆ°ä½“é‡çš„1.6-2.2å€(å…‹)ã€‚è®­ç»ƒå30åˆ†é’Ÿå†…è¡¥å……è›‹ç™½è´¨æ•ˆæœæœ€ä½³ã€‚'
                        });
                        break;
                }
            }

            // ä¸€èˆ¬å¥åº·å»ºè®®
            recommendations.push({
                title: 'æ¯æ—¥å¥åº·å°è´´å£«',
                content: 'è®°å¾—å¤šå–æ°´(æ¯æ—¥8æ¯)ï¼Œä¿è¯å……è¶³ç¡çœ ï¼Œé€‚é‡è¿åŠ¨ã€‚å‡è¡¡æ‘„å…¥è›‹ç™½è´¨ã€ç¢³æ°´åŒ–åˆç‰©å’Œå¥åº·è„‚è‚ªã€‚'
            });

            displayRecommendations(recommendations);
        }

        // æ˜¾ç¤ºå»ºè®®
        function displayRecommendations(recommendations) {
            const container = document.getElementById('recommendationsList');
            container.innerHTML = recommendations.map(rec => `
                <div class="recommendation">
                    <h4>${rec.title}</h4>
                    <p>${rec.content}</p>
                </div>
            `).join('');
        }

        // æ¸…ç©ºä»Šæ—¥æ•°æ®
        function clearTodayData() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºä»Šæ—¥æ‰€æœ‰é£Ÿç‰©è®°å½•å—ï¼Ÿ')) {
                todayFoods = [];
                saveData();
                displayFoodList();
                updateDashboard();
                alert('ä»Šæ—¥æ•°æ®å·²æ¸…ç©ºï¼');
            }
        }

        // ä¿å­˜æ•°æ®åˆ°å†…å­˜
        function saveData() {
            // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨æˆ–æœåŠ¡å™¨
            console.log('æ•°æ®å·²ä¿å­˜', { userData, todayFoods });
        }

        // åŠ è½½æ•°æ®
        function loadData() {
            // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥ä»æœ¬åœ°å­˜å‚¨æˆ–æœåŠ¡å™¨åŠ è½½æ•°æ®
            displayFoodList();
            if (userData.name) {
                displayProfileSummary();
                // å¡«å……è¡¨å•
                document.getElementById('userName').value = userData.name || '';
                document.getElementById('userAge').value = userData.age || '';
                document.getElementById('userGender').value = userData.gender || '';
                document.getElementById('userHeight').value = userData.height || '';
                document.getElementById('userWeight').value = userData.weight || '';
                document.getElementById('activityLevel').value = userData.activityLevel || '';
                document.getElementById('healthGoal').value = userData.healthGoal || '';
            }
        }
    </script>
</body>
</html>